<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ recipe.Title }}</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='recipe.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>

    }
</style>
</head>
<body>
  <main class="main-container">
    <header class="header">
        <a href="/" class="left-element">
          <img height="91px" src="https://cdn.builder.io/api/v1/image/assets/TEMP/fc277e0ff378357bda8086eaad29fc23d7c18641518cfe14a929ebc7c8492b5b?apiKey=88acd55e6d6346d7a3b2f206cf68b70d&" alt="Logo">
        </a>
        <a href="/login" class="right-element">
          <img width="68px" height="66px" src="https://cdn.builder.io/api/v1/image/assets/TEMP/2193b59fbc4b070793fc65289e6c6dc81bbe6734b6043853ba8e7a51ab505019?apiKey=88acd55e6d6346d7a3b2f206cf68b70d&" alt="Profile">
        </a>
      </header>
      <section class="recipe-details">
        <div class="recipe-title">{{recipe.Title}}</div>
        <div class="ingredients-section">
          <div class="ingredients-column">
            <img class="recipe_image" src="{{ url_for('static', filename='Food Images/' + recipe.Image_Name + '.jpg') }}">
          </div>
          <div class="ingredient-text">
            {% for ingradient in recipe.Ingredients.split('; ')%}
              <p> • {{ ingradient }}</p>
            {% endfor %}
          </div>
        </div>
        <div class="recipe-title">Recipe</div>
        <div class="recipe-txt">
          {% for rec in recipe.Instructions.split('; ') %}
            {% if '. ' in rec %}
            {% for i in rec.split('. ') %}
              <p> • {{i.capitalize()}}</p>
            {% endfor %}
            {% else %}
              <p> • {{rec.capitalize()}}</p>
            {% endif %}
          {% endfor %}
        </div>
        <div class="rating">
          <span class="fa fa-star"></span>
          <span class="fa fa-star"></span>
          <span class="fa fa-star"></span>
          <span class="fa fa-star"></span>
          <span class="fa fa-star"></span>
      </div>

        <script>
          var stars = document.querySelectorAll('.rating > .fa');
          for (var i = 0; i < stars.length; i++) {
              stars[i].value = i
              stars[i].addEventListener('click', function() {
                  // Remove the 'checked' class from all stars
                  // Add the 'checked' class to the clicked star and all previous stars
                  for (var k = 0; k < this.value%5 + 1; k++) {
                    console.log("checked", this.value - k)
                    stars[this.value - k].classList.add("checked");
                  }
                  for (var k = 1; k < 5 - this.value; k++) {
                    console.log("unchecked", this.value + k)
                    stars[this.value + k].classList.remove("checked");
                  }
                  console.log("")
                  // Store the rating in the user's data
                  // This will depend on how you're storing user data
                  // For example, you might use localStorage:
                  localStorage.setItem('rating', i + 1);
              });
              stars[i].addEventListener('mouseover', function(event) {
                for (var k = 1; k < this.value%5 + 1; k++) {
                  if (!stars[this.value - k].classList.contains("checked")) {
                    stars[this.value - k].style.color = "gold";
                  }
                }
              });
              stars[i].addEventListener('mouseout', function(event) {
                for (var k = 1; k < this.value%5 + 1; k++) {
                  stars[this.value - k].style.color = "";
                }
              })
          }
        </script>
      </section>
    </main>
<!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{{ url_for('static', filename='rating.js') }}"></script> -->
</body>
</html>
